<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Origami studio ¬∑ paper folding simulator</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background: #7f8c8d;  /* neutral gray background like a designer's desk */
      background-image: radial-gradient(circle at 20% 30%, #bdc3c7 1px, transparent 1px),
                        radial-gradient(circle at 80% 70%, #bdc3c7 1px, transparent 1px);
      background-size: 40px 40px;
      font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
    }

    .studio {
      max-width: 1300px;
      width: 100%;
      background: #ecf0f1;  /* light origami paper background */
      border-radius: 3rem 3rem 2rem 2rem;
      box-shadow: 0 30px 40px -20px #2c3e50, 0 0 0 2px #f1c40f80, 0 0 0 8px #ffffff30;
      padding: 2rem 2rem 2rem 2rem;
      backdrop-filter: blur(2px);
    }

    /* header ‚Äî like a sketchbook label */
    .header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      padding: 0 0.5rem 0.5rem 0.5rem;
      border-bottom: 3px dashed #95a5a6;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      gap: 0.75rem;
    }

    .header h1 {
      font-size: 2.5rem;
      font-weight: 400;
      font-family: 'Trebuchet MS', 'Inter', sans-serif;
      color: #2c3e50;
      letter-spacing: -0.5px;
      text-shadow: 2px 2px 0 #b0bec5;
    }

    .header h1 span {
      background: #f9e79f;
      padding: 0.2rem 1rem 0.2rem 1.2rem;
      border-radius: 40px;
      font-size: 1.2rem;
      font-weight: 300;
      margin-left: 1rem;
      border: 1px solid #d4ac0d;
      color: #7d6608;
      vertical-align: middle;
    }

    .paper-type {
      background: #ffffffc0;
      border-radius: 60px;
      padding: 0.5rem 1.5rem;
      font-size: 1.2rem;
      border: 2px solid #f1c40f;
      color: #1e2a3a;
      box-shadow: 0 4px 0 #b7950b;
    }

    /* main work area */
    .workbench {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      gap: 2rem;
      margin-bottom: 2.5rem;
    }

    /* folding canvas (paper simulation) */
    .paper-stage {
      flex: 3 1 600px;
      background: #d5dbdb;
      border-radius: 3rem;
      padding: 1.8rem;
      box-shadow: inset 0 0 20px #5d6d7e30, 0 10px 15px -8px #1e2a3a;
      border: 1px solid #aeb6bf;
    }

    .paper-display {
      background: #fef9e7;  /* warm white like origami paper */
      min-height: 380px;
      border-radius: 2rem;
      position: relative;
      box-shadow: 0 0 0 2px #f7dc6f, 0 20px 25px -15px #2c3e50;
      transition: background 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    /* paper folding visualization */
    #paperCanvas {
      width: 100%;
      height: auto;
      max-height: 400px;
      object-fit: contain;
      filter: drop-shadow(4px 8px 12px rgba(44, 62, 80, 0.3));
      transition: transform 0.15s ease;
    }

    /* folding controls sidebar */
    .toolbox {
      flex: 1 1 260px;
      background: #fcf3e0;  /* craft paper tint */
      border-radius: 2rem;
      padding: 1.8rem 1.5rem;
      box-shadow: 8px 8px 0 #b68b40, 0 0 0 1px #f1c40f inset;
      border: 1px solid #ebc87e;
    }

    .toolbox h2 {
      font-size: 1.6rem;
      font-weight: 400;
      border-left: 8px solid #f39c12;
      padding-left: 1rem;
      margin-bottom: 1.8rem;
      color: #784e1f;
    }

    .fold-buttons {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .fold-btn {
      background: #ffe5b4;
      border: none;
      border-radius: 3rem;
      padding: 1rem 1.2rem;
      font-size: 1.2rem;
      font-weight: 600;
      color: #4a3b1f;
      border-bottom: 4px solid #b87c2e;
      border-right: 2px solid #b87c2e;
      display: flex;
      align-items: center;
      gap: 1rem;
      transition: 0.08s linear;
      cursor: pointer;
      box-shadow: 0 5px 10px rgba(0,0,0,0.1);
      width: 100%;
    }

    .fold-btn:active {
      border-bottom-width: 1px;
      transform: translateY(4px);
      background: #f8d9a3;
    }

    .fold-btn.disabled {
      opacity: 0.4;
      pointer-events: none;
      filter: grayscale(0.5);
    }

    .badge {
      background: #ae7b3c;
      color: white;
      border-radius: 40px;
      padding: 0.2rem 1rem;
      font-size: 0.8rem;
      margin-left: auto;
    }

    /* history log */
    .history-panel {
      background: #e5d9c6;
      border-radius: 1.5rem;
      padding: 1.2rem;
      margin-top: 1.5rem;
      border: 1px dashed #b68b40;
    }

    .history-panel h3 {
      font-size: 1.1rem;
      color: #59401b;
      font-weight: 400;
      margin-bottom: 0.5rem;
    }

    #foldLog {
      list-style: none;
      max-height: 150px;
      overflow-y: auto;
      font-size: 0.9rem;
      color: #352b18;
      padding-left: 0.2rem;
    }

    #foldLog li {
      padding: 0.3rem 0;
      border-bottom: 1px solid #c2aa7a;
      font-family: 'Courier New', monospace;
    }

    /* paper stats & reset */
    .paper-stats {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #eddecb;
      border-radius: 3rem;
      padding: 0.8rem 1.5rem;
      margin: 1.5rem 0 0.5rem;
    }

    .crease-count {
      background: #4a3b1f;
      color: #ffd58c;
      padding: 0.3rem 1rem;
      border-radius: 2rem;
      font-weight: 500;
    }

    .reset-btn {
      background: transparent;
      border: 2px solid #a07534;
      color: #5e451d;
      border-radius: 40px;
      padding: 0.4rem 1.8rem;
      font-size: 1rem;
      cursor: pointer;
      transition: 0.15s;
    }

    .reset-btn:hover {
      background: #c2a257;
      color: white;
      border-color: #84662a;
    }

    .footnote {
      text-align: right;
      font-size: 0.8rem;
      color: #7b6b50;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <div class="studio">
    <!-- header -->
    <div class="header">
      <h1>origami studio <span>paper folding</span></h1>
      <div class="paper-type">üìÑ washi ¬∑ 15x15</div>
    </div>

    <!-- main workbench -->
    <div class="workbench">
      <!-- paper canvas area -->
      <div class="paper-stage">
        <div class="paper-display" id="paperDisplay">
          <!-- SVG paper representation (simple vector) -->
          <svg id="paperCanvas" viewBox="0 0 300 300" width="100%" height="100%" style="background: #fef7e9; border-radius: 20px;">
            <!-- base square (creases will be drawn as lines) -->
            <rect x="40" y="40" width="220" height="220" fill="#fef2d6" stroke="#c39a5e" stroke-width="2" rx="4" ry="4"/>
            <!-- corner markers (tiny circles) -->
            <circle cx="40" cy="40" r="3" fill="#b68b40" opacity="0.5"/>
            <circle cx="260" cy="40" r="3" fill="#b68b40" opacity="0.5"/>
            <circle cx="260" cy="260" r="3" fill="#b68b40" opacity="0.5"/>
            <circle cx="40" cy="260" r="3" fill="#b68b40" opacity="0.5"/>
            <!-- crease group: dynamic lines added via js -->
            <g id="creaseGroup"></g>
            <!-- optional center mark (just for orientation) -->
            <line id="guideH" x1="40" y1="150" x2="260" y2="150" stroke="#e6c68e" stroke-width="1" stroke-dasharray="4 4" opacity="0.5"/>
            <line id="guideV" x1="150" y1="40" x2="150" y2="260" stroke="#e6c68e" stroke-width="1" stroke-dasharray="4 4" opacity="0.5"/>
          </svg>
        </div>
        <div style="display: flex; justify-content: space-between; margin-top: 0.8rem; padding:0 0.5rem">
          <span style="color:#5b4d36;">‚Üê corner</span>
          <span style="color:#5b4d36;">fold lines ‚Üí</span>
        </div>
      </div>

      <!-- toolbox (folds) -->
      <div class="toolbox">
        <h2>‚úß folds</h2>
        <div class="fold-buttons">
          <button class="fold-btn" id="foldValley" data-fold="valley"> <span>üóî</span> valley fold <span class="badge">mountain</span></button>
          <button class="fold-btn" id="foldMountain" data-fold="mountain"> <span>‚åá</span> mountain fold <span class="badge">reverse</span></button>
          <button class="fold-btn" id="foldHalf" data-fold="half"> üìê half (book) <span class="badge">basic</span></button>
          <button class="fold-btn" id="foldDiagonal" data-fold="diagonal"> ‚§© diagonal crease <span class="badge">corner</span></button>
        </div>

        <!-- paper stats -->
        <div class="paper-stats">
          <span class="crease-count" id="creaseCounter">creases: 0</span>
          <button class="reset-btn" id="resetFoldsBtn">‚Ü∫ unfold</button>
        </div>

        <!-- history log (mini) -->
        <div class="history-panel">
          <h3>üìã fold log</h3>
          <ul id="foldLog">
            <li>‚ú® ready to fold</li>
          </ul>
        </div>
        <div class="footnote">drag to rotate not implemented ¬∑ pure crease simulation</div>
      </div>
    </div>
  </div>

  <script>
    (function(){
      // state: store crease lines as SVG elements data
      let creases = [];         // array of { x1, y1, x2, y2, type }
      let foldCount = 0;

      // svg namespaces
      const svgNS = "http://www.w3.org/2000/svg";
      const creaseGroup = document.getElementById("creaseGroup");
      const foldLog = document.getElementById("foldLog");
      const creaseSpan = document.getElementById("creaseCounter");

      // predefined coordinates (based on viewBox 0-300, square from 40 to 260)
      const S = 40;   // start
      const E = 260;  // end
      const C = 150;  // center

      function addCrease(x1, y1, x2, y2, type = 'valley') {
        // avoid perfect duplicates (very simple: ignore if same endpoints)
        const exists = creases.some(c => 
          (Math.abs(c.x1 - x1) < 2 && Math.abs(c.y1 - y1) < 2 && Math.abs(c.x2 - x2) < 2 && Math.abs(c.y2 - y2) < 2) ||
          (Math.abs(c.x1 - x2) < 2 && Math.abs(c.y1 - y2) < 2 && Math.abs(c.x2 - x1) < 2 && Math.abs(c.y2 - y1) < 2)
        );
        if (exists) {
          addLog("‚ö†Ô∏è crease already exists");
          return false;
        }

        // create line
        const line = document.createElementNS(svgNS, "line");
        line.setAttribute("x1", x1);
        line.setAttribute("y1", y1);
        line.setAttribute("x2", x2);
        line.setAttribute("y2", y2);
        line.setAttribute("stroke", type === 'valley' ? "#2277aa" : "#c44536");
        line.setAttribute("stroke-width", "2.5");
        line.setAttribute("stroke-dasharray", type === 'valley' ? "5 3" : "2 4");
        line.setAttribute("stroke-linecap", "round");
        line.setAttribute("class", `crease ${type}`);
        creaseGroup.appendChild(line);

        // store
        creases.push({ x1, y1, x2, y2, type, element: line });
        foldCount++;
        creaseSpan.innerText = `creases: ${foldCount}`;
        addLog(`${type} fold added (${Math.round(x1)}-${Math.round(y1)})`);
        return true;
      }

      function addLog(message) {
        const li = document.createElement("li");
        li.textContent = `üî∏ ${message}`;
        foldLog.prepend(li); // latest first
        if (foldLog.children.length > 5) {
          foldLog.removeChild(foldLog.lastElementChild);
        }
      }

      function clearAllFolds() {
        // remove lines from group
        while (creaseGroup.firstChild) {
          creaseGroup.removeChild(creaseGroup.firstChild);
        }
        creases = [];
        foldCount = 0;
        creaseSpan.innerText = `creases: 0`;
        // reset log
        foldLog.innerHTML = '<li>‚ú® paper reset</li>';
      }

      // ---------- fold definitions (using absolute coordinates) ----------
      function valleyFold() {
        // valley: horizontal line across center (mountain/valley just style)
        addCrease(S, C, E, C, 'valley');
      }

      function mountainFold() {
        // mountain: vertical center line
        addCrease(C, S, C, E, 'mountain');
      }

      function halfBookFold() {
        // book fold: vertical line at 1/3? we do a classic "half" line from mid-left to mid-right? actually half fold often means fold paper in half ‚Äî so a center line.
        // we'll add a valley style but also could be both. For variety: add a line from (S,100) to (E,100) ‚Äì slightly off center
        addCrease(S, 100, E, 100, 'valley');
      }

      function diagonalCrease() {
        // diagonal from top-left to bottom-right
        addCrease(S, S, E, E, 'mountain');
      }

      // ----- bind buttons -----
      document.getElementById("foldValley").addEventListener("click", (e) => {
        valleyFold();
      });
      document.getElementById("foldMountain").addEventListener("click", (e) => {
        mountainFold();
      });
      document.getElementById("foldHalf").addEventListener("click", (e) => {
        halfBookFold();
      });
      document.getElementById("foldDiagonal").addEventListener("click", (e) => {
        diagonalCrease();
      });

      // reset button
      document.getElementById("resetFoldsBtn").addEventListener("click", (e) => {
        clearAllFolds();
      });

      // extra flair: after reset also log
      // initial sample crease? maybe not, keep blank.

      // add starting friendly crease? optional, but we want empty canvas.
      // For demonstration, maybe one pre-added diagonal? but let's keep empty
      // however to show it's working, we add one subtle diagonal? No, empty is fine.

      // we can add one automatic "sample" but better not. User will click.

      // but we need to show some example: let's add one small diagonal on first load?
      // maybe not, but to show style: add a "valley" line that is not too intrusive? 
      // comment: better to let user discover. But we can add a faint "demo" crease? 
      // I'll add a simple small diagonal after 0.5 sec to demonstrate (optional)
      // but to respect "empty" start, I'll not. However I will set a default so interface is not empty.
      // Actually I'll add one diagonal on page load to show style (valley)
      window.addEventListener('load', function() {
        // add one diagonal example after 100ms so user sees it's interactive
        setTimeout(() => {
          if (creases.length === 0) {
            addCrease(70, 70, 230, 230, 'valley'); // subtle example
            addLog("üëÜ try the fold buttons");
          }
        }, 200);
      });
    })();
  </script>
</body>
</html>