<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Provenance Verifier</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="header-title">Data Provenance Verifier</h1>
                <p class="header-subtitle">Trace and validate data artifact origins throughout processing pipelines</p>
                <div class="header-controls">
                    <button id="startVerification" class="btn btn-primary">Start Verification</button>
                    <button id="generateReport" class="btn btn-secondary">Generate Report</button>
                    <button id="simulateData" class="btn btn-warning">Simulate Data Flow</button>
                </div>
            </div>
        </header>

        <!-- Overview Cards -->
        <div class="overview-grid">
            <div class="overview-card">
                <div class="card-header">
                    <h3>Data Sources</h3>
                    <span class="card-icon">üìä</span>
                </div>
                <div class="card-value" id="totalSources">0</div>
                <div class="card-trend" id="sourcesTrend">+0 this hour</div>
            </div>
            <div class="overview-card">
                <div class="card-header">
                    <h3>Verified Artifacts</h3>
                    <span class="card-icon">‚úÖ</span>
                </div>
                <div class="card-value" id="verifiedArtifacts">0</div>
                <div class="card-trend" id="verifiedTrend">0% verified</div>
            </div>
            <div class="overview-card">
                <div class="card-header">
                    <h3>Integrity Alerts</h3>
                    <span class="card-icon">‚ö†Ô∏è</span>
                </div>
                <div class="card-value" id="integrityAlerts">0</div>
                <div class="card-trend" id="alertsTrend">No active alerts</div>
            </div>
            <div class="overview-card">
                <div class="card-header">
                    <h3>Audit Readiness</h3>
                    <span class="card-icon">üîí</span>
                </div>
                <div class="card-value" id="auditScore">100%</div>
                <div class="card-trend" id="auditTrend">Fully compliant</div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <button class="tab-btn active" data-tab="dashboard">Dashboard</button>
                <button class="tab-btn" data-tab="sources">Data Sources</button>
                <button class="tab-btn" data-tab="artifacts">Artifacts</button>
                <button class="tab-btn" data-tab="verification">Verification</button>
                <button class="tab-btn" data-tab="audit">Audit Trail</button>
            </div>

            <!-- Tab Content -->
            <div class="tab-content">
                <!-- Dashboard Tab -->
                <div id="dashboardTab" class="tab-pane active">
                    <div class="dashboard-grid">
                        <!-- Data Flow Visualization -->
                        <div class="chart-container">
                            <h3>Data Flow Pipeline</h3>
                            <canvas id="dataFlowChart" width="800" height="400"></canvas>
                        </div>

                        <!-- Recent Activity -->
                        <div class="activity-container">
                            <h3>Recent Activity</h3>
                            <div id="recentActivity" class="activity-list">
                                <!-- Activity items will be populated by JavaScript -->
                            </div>
                        </div>

                        <!-- Integrity Status -->
                        <div class="status-container">
                            <h3>Integrity Status</h3>
                            <div id="integrityStatus" class="status-grid">
                                <!-- Status items will be populated by JavaScript -->
                            </div>
                        </div>

                        <!-- Verification Queue -->
                        <div class="queue-container">
                            <h3>Verification Queue</h3>
                            <div id="verificationQueue" class="queue-list">
                                <!-- Queue items will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Data Sources Tab -->
                <div id="sourcesTab" class="tab-pane">
                    <div class="sources-header">
                        <div class="filter-controls">
                            <select id="sourceTypeFilter">
                                <option value="all">All Types</option>
                                <option value="database">Database</option>
                                <option value="api">API</option>
                                <option value="file">File System</option>
                                <option value="stream">Data Stream</option>
                                <option value="sensor">Sensor</option>
                            </select>
                            <select id="sourceStatusFilter">
                                <option value="all">All Status</option>
                                <option value="verified">Verified</option>
                                <option value="pending">Pending</option>
                                <option value="failed">Failed</option>
                                <option value="compromised">Compromised</option>
                            </select>
                            <input type="text" id="sourceSearch" placeholder="Search sources...">
                        </div>
                        <button id="addSourceBtn" class="btn btn-primary">Add Data Source</button>
                    </div>
                    <div id="sourcesList" class="sources-grid">
                        <!-- Source cards will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Artifacts Tab -->
                <div id="artifactsTab" class="tab-pane">
                    <div class="artifacts-header">
                        <div class="filter-controls">
                            <select id="artifactTypeFilter">
                                <option value="all">All Types</option>
                                <option value="dataset">Dataset</option>
                                <option value="model">ML Model</option>
                                <option value="report">Report</option>
                                <option value="dashboard">Dashboard</option>
                                <option value="api_response">API Response</option>
                            </select>
                            <select id="artifactStatusFilter">
                                <option value="all">All Status</option>
                                <option value="verified">Verified</option>
                                <option value="processing">Processing</option>
                                <option value="failed">Failed</option>
                                <option value="quarantined">Quarantined</option>
                            </select>
                            <input type="text" id="artifactSearch" placeholder="Search artifacts...">
                        </div>
                        <button id="uploadArtifactBtn" class="btn btn-primary">Upload Artifact</button>
                    </div>
                    <div id="artifactsList" class="artifacts-grid">
                        <!-- Artifact cards will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Verification Tab -->
                <div id="verificationTab" class="tab-pane">
                    <div class="verification-controls">
                        <div class="verification-modes">
                            <button id="quickVerifyBtn" class="btn btn-secondary">Quick Verify</button>
                            <button id="deepVerifyBtn" class="btn btn-primary">Deep Verify</button>
                            <button id="batchVerifyBtn" class="btn btn-warning">Batch Verify</button>
                        </div>
                        <div class="verification-options">
                            <label><input type="checkbox" id="verifyIntegrity"> Integrity Check</label>
                            <label><input type="checkbox" id="verifyAuthenticity"> Authenticity Check</label>
                            <label><input type="checkbox" id="verifyCompleteness"> Completeness Check</label>
                            <label><input type="checkbox" id="verifyTimeliness"> Timeliness Check</label>
                        </div>
                    </div>
                    <div class="verification-results">
                        <div class="results-header">
                            <h3>Verification Results</h3>
                            <div class="results-summary" id="verificationSummary">
                                <!-- Summary will be populated by JavaScript -->
                            </div>
                        </div>
                        <div id="verificationResults" class="results-list">
                            <!-- Results will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Audit Trail Tab -->
                <div id="auditTab" class="tab-pane">
                    <div class="audit-controls">
                        <div class="time-range">
                            <select id="auditTimeRange">
                                <option value="1h">Last Hour</option>
                                <option value="24h">Last 24 Hours</option>
                                <option value="7d">Last 7 Days</option>
                                <option value="30d">Last 30 Days</option>
                            </select>
                        </div>
                        <div class="audit-filters">
                            <select id="auditActionFilter">
                                <option value="all">All Actions</option>
                                <option value="ingestion">Data Ingestion</option>
                                <option value="transformation">Transformation</option>
                                <option value="verification">Verification</option>
                                <option value="access">Data Access</option>
                                <option value="export">Data Export</option>
                            </select>
                            <input type="text" id="auditSearch" placeholder="Search audit trail...">
                        </div>
                    </div>
                    <div id="auditTrail" class="audit-list">
                        <!-- Audit entries will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-status">
                    <span id="footerStatus">System Status: Operational</span>
                    <span id="footerSources">Sources: 0</span>
                    <span id="footerArtifacts">Artifacts: 0</span>
                    <span id="footerAlerts">Alerts: 0</span>
                </div>
                <div class="footer-controls">
                    <button id="exportAuditBtn" class="btn btn-secondary">Export Audit</button>
                    <button id="systemHealthBtn" class="btn btn-info">System Health</button>
                </div>
            </div>
        </footer>
    </div>

    <!-- Modals -->
    <!-- Source Details Modal -->
    <div id="sourceModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="window.controller.closeModal()">&times;</span>
            <h2>Data Source Details</h2>
            <div id="sourceDetails" class="modal-body">
                <!-- Source details will be populated by JavaScript -->
            </div>
            <div class="modal-actions">
                <button class="btn btn-primary" onclick="window.controller.verifySource()">Verify Source</button>
                <button class="btn btn-warning" onclick="window.controller.quarantineSource()">Quarantine</button>
                <button class="btn btn-secondary" onclick="window.controller.closeModal()">Close</button>
            </div>
        </div>
    </div>

    <!-- Artifact Details Modal -->
    <div id="artifactModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="window.controller.closeModal()">&times;</span>
            <h2>Artifact Details</h2>
            <div id="artifactDetails" class="modal-body">
                <!-- Artifact details will be populated by JavaScript -->
            </div>
            <div class="modal-actions">
                <button class="btn btn-primary" onclick="window.controller.verifyArtifact()">Verify Artifact</button>
                <button class="btn btn-warning" onclick="window.controller.traceLineage()">Trace Lineage</button>
                <button class="btn btn-secondary" onclick="window.controller.closeModal()">Close</button>
            </div>
        </div>
    </div>

    <!-- Verification Details Modal -->
    <div id="verificationModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="window.controller.closeModal()">&times;</span>
            <h2>Verification Details</h2>
            <div id="verificationDetails" class="modal-body">
                <!-- Verification details will be populated by JavaScript -->
            </div>
            <div class="modal-actions">
                <button class="btn btn-success" onclick="window.controller.approveVerification()">Approve</button>
                <button class="btn btn-danger" onclick="window.controller.rejectVerification()">Reject</button>
                <button class="btn btn-secondary" onclick="window.controller.closeModal()">Close</button>
            </div>
        </div>
    </div>

    <!-- Add Source Modal -->
    <div id="addSourceModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="window.controller.closeModal()">&times;</span>
            <h2>Add Data Source</h2>
            <form id="addSourceForm" class="modal-body">
                <div class="form-group">
                    <label for="sourceName">Source Name</label>
                    <input type="text" id="sourceName" required>
                </div>
                <div class="form-group">
                    <label for="sourceType">Source Type</label>
                    <select id="sourceType" required>
                        <option value="database">Database</option>
                        <option value="api">API</option>
                        <option value="file">File System</option>
                        <option value="stream">Data Stream</option>
                        <option value="sensor">Sensor</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="sourceEndpoint">Endpoint/Location</label>
                    <input type="text" id="sourceEndpoint" required>
                </div>
                <div class="form-group">
                    <label for="sourceOwner">Owner/Responsible Party</label>
                    <input type="text" id="sourceOwner" required>
                </div>
                <div class="form-group">
                    <label for="sourceSensitivity">Data Sensitivity</label>
                    <select id="sourceSensitivity">
                        <option value="public">Public</option>
                        <option value="internal">Internal</option>
                        <option value="confidential">Confidential</option>
                        <option value="restricted">Restricted</option>
                    </select>
                </div>
                <div class="form-group">
                    <label><input type="checkbox" id="sourceEncrypted"> Data is encrypted</label>
                </div>
                <div class="form-group">
                    <label><input type="checkbox" id="sourceAuthenticated"> Requires authentication</label>
                </div>
            </form>
            <div class="modal-actions">
                <button class="btn btn-primary" onclick="window.controller.addSource()">Add Source</button>
                <button class="btn btn-secondary" onclick="window.controller.closeModal()">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Upload Artifact Modal -->
    <div id="uploadArtifactModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="window.controller.closeModal()">&times;</span>
            <h2>Upload Data Artifact</h2>
            <form id="uploadArtifactForm" class="modal-body">
                <div class="form-group">
                    <label for="artifactName">Artifact Name</label>
                    <input type="text" id="artifactName" required>
                </div>
                <div class="form-group">
                    <label for="artifactType">Artifact Type</label>
                    <select id="artifactType" required>
                        <option value="dataset">Dataset</option>
                        <option value="model">ML Model</option>
                        <option value="report">Report</option>
                        <option value="dashboard">Dashboard</option>
                        <option value="api_response">API Response</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="artifactFile">File</label>
                    <input type="file" id="artifactFile" required>
                </div>
                <div class="form-group">
                    <label for="artifactSource">Source</label>
                    <select id="artifactSource" required>
                        <!-- Sources will be populated by JavaScript -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="artifactDescription">Description</label>
                    <textarea id="artifactDescription" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label><input type="checkbox" id="artifactSensitive"> Contains sensitive data</label>
                </div>
            </form>
            <div class="modal-actions">
                <button class="btn btn-primary" onclick="window.controller.uploadArtifact()">Upload</button>
                <button class="btn btn-secondary" onclick="window.controller.closeModal()">Cancel</button>
            </div>
        </div>
    </div>

    <script src="controller.js"></script>
</body>
</html>